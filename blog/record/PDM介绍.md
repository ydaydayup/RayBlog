---
#slug: use-nuxt3-build-api-server
title: PDM介绍
date: 2024-03-13
#authors: Ray
tags: [ pdm, python ]
keywords: [ pdm, python ]
description: python的包管理工具pdm
#image: https://img.kuizuo.cn/202312270328599.png
#sticky: 2
---

由于工具的使用程度不同,肯定存在偏见,但我还是喜欢观点鲜明,激进的结论,哪怕他是错的
> 目前: pip一定要会,另一个就是pdm

## Python环境管理大比拼：pip、Conda、Pyenv、Rye、Virtualenv、PDM、Poetry等工具

<!-- truncate -->

### **工具分类**

- Python 版本管理
- 包管理
- 环境管理（主要涉及虚拟环境）
- 包构建
- 包发布

正如下面的维恩图中所示，存在很多工具。有些是单一用途的，有些是多面手：
[Open: Pasted image 20240430211634.png](assert/Pasted%20image%2020240430211634.png)
![](assert/Pasted%20image%2020240430211634.png)

### 说明

上图显示pdm,Poetry除了不能管理python版本,可以做所有事情

什么叫管理python版本呢,就是可以进行python版本的下载,但是这个在实际使用中最不重要,因为只要系统有这个python版本就可用pdm去创建虚拟环境,而python的安装确实最简单

### 结论

pip一定要学会使用, pdm,Poetry学会使用其中一个


解释:

因为pip是python自带,简单易用,而且是绕不开

在环境管理,包管理, 包发布功能等功能的大型项目使用pdm,Poetry其中一个

### 个人对一些工具的使用的主观感受:

pip -- 手动管理依赖,在requirements.txt中手动增加删除依赖

conda -- 笨重,仅仅在python版本管理上有点作用,可以替代它的比他做的更好的太多了-- 我愿称之为最没用的工具

rye -- 新出来的工具,还有一些不是成熟

Poetry -- 我在实际使用中感觉不太好用

环境管理工具 --- 使用虚拟环境,每次都要激活虚拟环境,很麻烦(pdm run + python) --- 可能存在简单的方式,没有深入研究

---

## pdm pip Poetry综合对比

PDM、pip和Poetry都是Python社区中用于依赖管理和包安装的工具，它们各有特点和优势。以下是这些工具的综合对比：

1. **依赖管理**：
    - **PDM** 使用`pyproject.toml`(https://peps.python.org/pep-0518/#file-format)文件来声明项目依赖，支持PEP 517和PEP
      582，可以不需要虚拟环境而进行依赖隔离。

    - **pip** 使用`requirements.txt`或`Pipfile`
      （当与Pipenv一起使用时）来管理依赖，是Python官方推荐的包管理工具，与虚拟环境`venv`或`virtualenv`结合使用。
    - **Poetry** 也使用`pyproject.toml`文件，并引入了`poetry.lock`来锁定依赖的确切版本，以确保环境的可复现性。


2. **环境隔离**：
    - **PDM** 支持PEP 582，允许在项目目录下安装依赖，而不需要传统的虚拟环境。
    - **pip** 通常与虚拟环境结合使用来实现环境隔离。
    - **Poetry** 自动创建和管理虚拟环境，并使用`poetry.lock`文件来确保依赖的一致性。

3. **性能**：
    - **PDM** 在性能上进行了优化，特别是在依赖解析和安装过程中，提供了快速的体验。
    - **pip** 在小型项目中性能表现良好，但在大型项目中可能会有性能瓶颈。
    - **Poetry** 在缓存利用和依赖解析上表现不错，但可能在某些情况下比PDM稍慢。

4. **用户体验**：
    - **PDM** 提供了现代化的命令行界面和丰富的子命令，提供友好的用户体验。
    - **pip** 的命令行界面较为简单，对于一些复杂的依赖管理任务可能不够直观。
    - **Poetry** 提供了直观的命令行界面和丰富的功能，但可能上手难度稍高。

5. **社区和生态**：
    - **PDM** 是一个相对较新的工具，有着活跃的社区和持续的维护。
    - **pip** 作为Python官方推荐的包管理工具，有着广泛的社区支持和丰富的生态系统。
    - **Poetry** 也拥有一个不断增长的用户社区，并且得到了良好的维护和更新。

6. **兼容性和标准遵循**：
    - **PDM** 遵循PEP 517/518/582/621等标准，保证了与Python社区规范的兼容性。
    - **pip** 支持较旧的格式，但也在逐步向PEP 517/518等新标准靠拢。
    - **Poetry** 使用自定义的`[tool.poetry]`表来管理依赖，虽然强大，但与PEP 621标准略有差异。

**结论**：

- 如果你追求现代化的依赖管理、高性能和良好的用户体验，同时希望与Python的最新标准兼容，**PDM**可能是一个不错的选择。
- 如果你需要一个广泛支持、简单易用且足够稳定的工具，**pip**仍然是一个安全的选择，特别是与`virtualenv`或`venv`结合使用时。
- 如果你希望有一个全功能的包管理器，用于依赖管理和发布流程，并且不介意稍微复杂的配置，**Poetry**提供了强大的功能和良好的用户体验。

在选择工具时，应考虑项目需求、团队熟悉度以及对特定特性的需求。每种工具都有其特定的使用场景和优势，选择最适合当前项目和团队的即可。


----

## 科普

PEP是Python Enhancement
Proposal的缩写，中文意思是“Python增强提案”。它是Python社区用于提出、讨论和记录Python语言新特性、过程或者改进的一个正式流程。PEP由Python核心开发者（也称为Python
Benevolent Dictator For Life，即PEP 1的作者Guido van Rossum）和其他社区成员共同维护。

PEP的主要目的包括：

1. **提出新特性**：介绍Python语言或其生态系统中可能的新特性。
2. **标准化过程**：为Python社区的某些过程提供标准化的指导。
3. **记录决策**：记录Python社区所做的重要决策和其背后的理论依据。

PEP文档通常包括以下部分：

- **PEP标题**：提案的标题。
- **PEP作者**：提案的作者或主要贡献者。
- **状态**：提案的当前状态，如“草案”、“最终”、“被拒绝”、“推迟”等。
- **类型**：提案的类型，如“标准”、“过程”、“信息性”等。
- **内容**：提案的详细描述，包括动机、设计决策、替代方案、向后兼容性、实施计划等。

一些著名的PEP包括：

- **PEP 8**：Python代码的编码风格指南。
- **PEP 20**：Python语言的格言，即“Zen of Python”。
- **PEP 257**：Docstring的编写约定。
- **PEP 3101**：关于Python 3的字符串处理。
- **PEP 484**：类型提示，为Python添加静态类型检查的支持。

PEP是Python社区协作和决策的重要组成部分，对于Python语言的发展和维护具有重要意义。通过阅读和理解PEP文档，开发者可以更好地了解Python的设计哲学、历史和未来方向。

### pdm使用案例

官网介绍
https://pdm-project.org/zh-cn/latest/

