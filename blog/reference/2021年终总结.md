---
title: 2021年终总结
date: 2022-02-08
authors: kuizuo
tags: [年终总结,随笔]
draft: true
---

<!-- truncate -->

原标题 《2020.7-2021.12编程年记》，看到部分程序员都会对写年终总结，于是标题便改成了这个。

距离上篇记录过去了 1 年半，不过时间可以分为2020年下半年与2021年一整年来叙述。

不过在总结的时候还是要唠嗑唠嗑，其实说实话，今年没去年那么想写年终总结，感觉去年过得没有前年那么充实，尤其是在学习方面，感觉很多时候过于迷茫，尤其是2021年后半年，浪费了太多本该提升自我的时间，加上这段时间（2022年1月）闭关安卓逆向学习，所以大部分的精力都放在学习上，对于总结过去一年的所学甚少。（不然也不会拖欠到现在）

写年终总结时不时也会姗澜泪下，写的时候就需要不断的回忆过去，而往往过去的某些时刻的做法会让自己觉得是不是有个更优解？常常会回忆起过去这一年所经历的往往，难以忘怀，不知从何写起。

话虽说，但总归还是学到了点东西，所以还是得总结一下，不记录可能这段经历就消逝在时间的烟海之中。

## 正式从事Web开发

可以这么说，过去的1年半中，我已经从一位学逆向的转到Web开发行业上。在上次的记录中我也确实定了这[目标](https://kuizuo.cn/reference/2019.7-2020.7编程年记#进阶-web-开发)，至少现在的我已经能够正常的搭建一个网站服务了。并且像一些前端框架Vue与React，以及Vite和Webpack构建工具都尝试过，所以说至少写个前端页面倒是不成问题，当然能用组件库肯定首选组件库。

不过仅仅只是有一个页面是完全不够的，如果是静态站点的博客的话，那确实够，不过想要做到一些页面阅读量，以及评论相关的，就必须涉及到数据交互，也就是后端服务。后端服务所选用的语言可就多了，例如nodejs，java，php，python，go等等（这里提及的都是我使用过的），但如果要我选择，我还是毫不犹豫选择node来作为我的后端服务，至少js是我~~目前~~用的最惯的一套技术栈了。当然后面会说。毕竟只要能在公网搭建，能提供一个api接口对数据进行CRUD（增删改查）操作就行，本质上是没有任何差别的，无非就是性能与生态的区别。

接下来就按时间顺序来记录下，Web开发期间到底写了些什么，学到了什么

## Web开发项目

### Vuepress搭建个人博客

![image-20220208071951313](https://img.kuizuo.cn/20220208071951.png)

首先就是使用Vuepress来搭建一个属于自己的个人博客了，也是第一个Vue项目，关于Vuepress搭建使用的一篇文章 [第一个博客搭建之Vuepress](https://kuizuo.cn/develop/第一个博客搭建之Vuepress)

搭建并不算难，但整体结果，可以说，没Vue，我大概率不会从事Web开发相关，当时学的是JS逆向做爬虫相关的，只是对网页开发有一丝丝的好奇，于是学了前端三件套HTML、CSS、JS，但是当要尝试编写一个网页的时候，发现编写过程很痛苦，当时我学习的时候写代码是没有模块化的概念，基本上所有的代码都分别在写3个文件 index.html，index.css，index.js中，就有放弃学习前端的念头，不过好在了解到了vue（当时甚至都没了解webpack，css预编译等等工具），发现vue组件化的概念，加上element-ui组件库的使用，一瞬间就感觉前端如此简单，紧随其后就是不断了解vue的生态以及使用vscode编写vue代码，而Vuepress便是其中项目之一。

不过因为一些原因导致2021上半年没有时间写博客，加上正好学习了React的技术栈，于是乎原本搭建的个人博客就淹没在服务器的到期时间上。

### vue-element-admin

如果学习Vue2的话，应该都听过这个后台管理系统，估计也都学习过，在这个项目中能收获了太多关于Vue2开发的知识点。不过当时只写到一半就没继续写下去了，主要是已经不接触易语言方面的开发，网络验证对我来说用途不大，只是提一嘴，毕竟也改过组件，写过后端服务，只是年代久远，就不再次做过多的篇幅介绍了。（当时写一半，现在让我写我都不想再写了）

贴一张当时软件网络验证系统的截图

![image-20220210080814521](https://img.kuizuo.cn/20220210083055.png)

------

2020年7月~2020年12月，也就是Vue2的学习，加上express与nestjs的学习，所编写的项目也就是上面那个。

然后停止了近半年的前端学习（至于原因后文会说），直到2021年7月~2021年12月的时间内才又重新开始Web开发的学习，也就是在这段期间，学会了Vue3与React，而下面便是这期间所编写过的项目了。

------

### docusaurus搭建个人博客

也就是目前我所使用的博客，技术栈也就是react，关于如何搭建也有篇文章介绍了，同时也开源，文章地址: [第二个博客搭建之Docusaurus](https://kuizuo.cn/develop/第二个博客搭建之Docusaurus)

### code-nav 资源导航

关于该项目也有篇文章说明，就一笔带过了，文章地址:  [资源导航开发](http://localhost:3000/soft/资源导航)

### vben-admin

当时正好在学Vue3，正愁着找项目写，然后刷到了一个基于Vue3、Vite、TypeScript等最新技术栈开发的后台管理系统。



### js代码混淆与还原

相关文章：[JS代码之还原](http://kuizuo.cn/js/JS代码之还原)  [JS代码之混淆](http://kuizuo.cn/js/JS代码之混淆)

关于js代码混淆，其实很早之前写网页js逆向就碰过，基本上都是不断动态调试才分析出来，直到遇到这本书《反爬虫 AST 原理与还原混淆实战》以及随书课程，才让我了解的针对**源代码语法结构**的操作，也借此了解了一番js编译执行原理，针对主流的混淆就想尝试使用AST来做到自动化还原混淆的代码，于是便有了这个网站。

### kz-admin

// TODO: 配图

这个也是我将vben-admin与nestjs结合的一套 后台管理系统，

原本是想等vben3正式发布的时候在去编写，但似乎好像估计还要一段时间，vue3都正式版了，看样子也不能拖了。

------

再还有些就是小特效、小页面或是定制的网站，就不展示了。不过未来还是会去编写与Web相关的项目，敬请期待好吧。

介绍了这些与网站相关的，不记录下技术栈怎么行，不过在此之前还有一件特别重要的事情要先记录下。

## 休学一年（2021年）

我当时的休学的申请审批表





与其说2021年终总结，不妨说休学一年的总结。

这也就是为什么我2021年上半年没继续学习前端，没写博客的原因。



我没继续学前端，没写博客，但不代表我没学习，只是学习都是与工作相关东西，

### 为何休学

工作，不是普普通通的兼职，而是有工作岗位与劳动合同的工作。所以在学业与工作上两者无法兼顾到于是就休学了。

算了 实话实话的到，搞得这么委婉。   其实主要我当时确实不是很想在校园里呆在，感觉学校里的老师教的都是几年前的技术，而如今技术更新迭代之快，很多学了都不一定有用，然后正好当我我所写的一个自动化协议软件被

其实事实是这样的，当时我







### 干什么工作的

肯定是和代码相关的，不过具体啥的内容我也不方便透露。



工作还是挺自由的，至少摸鱼是随便摸的那种，





工作的时候还是有在学习的，而接下来就着重针对2021年上半年所学到的技术栈进行总结（当时是真的没什么空去总结这些，基本都在工作中学习）



所以我上半年的时间，基本都是在码代码。这期间就写了一篇博客[Windows Terminal美化](http://kuizuo.cn/tools/Windows Terminal美化)，或者说是笔记。

然后

## 学到的技术栈

再来说说都学到（了解）些什么，按时间顺序

### Nest.js

这是我认为最好用的Node后端框架，也是我目前最喜欢一套后端技术栈，可以理解为是Node版的的Java Spring框架，如面向AOP编程、依赖注入、单例模式、typeorm这些，对于Spring开发者来说在熟悉不过了。

当时学习它的理由是因为Express并不能满足我当时的后端需求，尤其是用户效验的中间件与编写大量重复相似的Mysql语法，而当时的我只想接触Node的后端技术栈，于是在Nest.js与Egg.js中做出选择，最终选择了Nest.js，事实也告诉我，这次选择非常正确。我是目睹着star数从30k到现在(2022-02-11)44k的，并且也是增加最快的Node后端框架，且还在持续增长中。

Nest 是构建在强大的 HTTP 服务器框架上，如Express（默认），也就是说，Express的插件在Nest中也是能直接使用。Nest自行还对一些模块进行封装，例如提供elasticsearch服务@nestjs/elasticsearch，发送邮箱的@nestjs-modules/mailer，像接口限流，缓存，JWT效验，定时任务，websocket等等都有对应的模块，所以在生态上，就完全没必要担心，当时写Express的时候就需要不断的去搜索像对应的模块，自行封装，而Nest则是提供现成模块，需要的时候直接通过服务注入即可。

不过在学习Nest的时候，还同样接触到与其相关的技术栈

#### TypeScript

第一次了解的TypeScript还是在菜鸟教程上，当时只知道这个JavaScript的超集，而Nest对TypeScript的支持极好，也建议使用TypeScript来进行开发，而TypeScript对类型的支持又不是强制性的，完全兼容JS的语法，而使用TypeScript能养成变量类型的规范以及后续代码维护的编写，对于一个大型后端项目来说，尤其是数据交互方面非常重要，甚至现在前端也逐步使用TypeScript。

#### TypeORM

当时在用Express编写数据库查询的时候，都需要写sql语句，像 `SELECT * FROM user WHERE id = ?`，发现Nest有集成TypeORM，于是就尝试使用，一用不知道，这玩意不比手写sql语句，甚至还有可能写错来的好？

在ORM中，有实体的概念，比方用户表有用户名与密码字段，那么实体就是一个映射到数据库表的类，像这样下方这样定义

```typescript
@Entity('user') // user表
export class User {
  @PrimaryGeneratedColumn({ type: 'int', name: 'id', comment: '主键ID'})
  id: number;
    
  @Index({ unique: true })
  @Column('varchar', { nullable: false, length: 20, name: 'username', comment: '用户名'})
  username: string;

  @Exclude()
  @Column('varchar', { nullable: false, length: 20, name: 'password', comment: '密码'})
  password: string;
}
```

定义好一个实体后，则需要通过`TypeOrmModule`来导入，然后注入到服务中  `@InjectRepository(User) private userRepository: Repository<User>`，具体实现代码就不放了。

比方说上面的sql语句，就可以写成 `this.userRepository.findOne(id)`

像保存一个用户，则可以写成

```typescript
let user = new User(); 
user.username = 'kuizuo'
user.password = 'a123456'
this.userRepository.save(user);
```

而不是使用SQL语句`INSERT INTO user (username，password) VALUES ('kuizuo', 'password')`，使用save方法甚至都需要判断数据库中是否有同用户名数据，没有就创建，有则更新，非常方便

在写的时候甚至都忘了怎么插入一条数据了，自从用了ORM就没怎么写过Sql语句了。对于大部分简单的sql语句，都可以通过上面的操作获取数据，整个项目可能都看不到一条SQL语句。

同时修改字段与新增字段只需要修改实体，而无需手动修改数据库，开发体验极好。

#### RxJS

js的异步Promise是有一些缺点的，比方说无法取消，一旦`new Promise()`后，异步代码将会在事件循环中执行，不管是否调用then方法或者await等待，异步代码就已经执行，并且无法取消，处于pending状态时无法得知现在处在什么阶段。

而RxJS则比Promise强太多了，关于RxJS的介绍推荐篇文章 [RxJS——给你如丝一般顺滑的编程体验（篇幅较长，建议收藏） - 掘金 (juejin.cn)](https://juejin.cn/post/6910943445569765384)，比较RxJS我也只是简单学学，会用即可，也不敢多说些什么。

#### 其他

还有一些API接口文档[Swagger](https://docs.nestjs.cn/8/recipes?id=swagger)，消息队列，文件上传啥的，总之只要是与后端相关的，在Nest中大部分都有。2021年下半年基本上就是在Vue2与Nest中学习。

:::info

因为我喜欢编写Node和TypeScript，而不是繁琐的Java，所以我喜欢使用Nest，也是我最喜欢的技术栈之一。

:::

### ThinkPHP

这里为什么写ThinkPHP，而不是PHP，主要原因是当时我休学工作时的网站就是采用ThinkPHP编写的。虽然我是Node后端，但是后端不就是写接口，调用数据这些，所以ThinkPHP就简单的去了解了一下，而PHP只是简简单单的过了一遍语法，很多内置函数都没使用过，不过当时的我主要会改，会搭建就行，不会的基本就靠百度了。

虽然说目前很多网站都是PHP搭建的，举不完全统计，全球大约有78%的网站使用PHP编写。但不断有消息唱衰，说PHP要落寞了。当然这一部分可能与培训机构为了推python、java、go等语言有关，不过事实上也确实，主要是因为现在大部分的公司的基本上都采用java和go来编写后端服务，而很少使用PHP来进行开发，除了一些外包公司，但该说不说，PHP开发和部署是真快，尤其是有安装宝塔面板的情况下，只需要复制个文件夹，然后将数据库导入，然后域名绑定，就直接在浏览器中访问，不像其他后端语言，需要安装环境啥的，宝塔面板就已经安装好了（Linux + Nginx + Mysql + PHP）。

主要还是局限性，像学PHP，那么基本上只能写网站，而学Java能写网站能写安卓（主要还是Spring Boot太火了）。不过还是要说一句

**PHP 是世界上最好的编程语言**

### Elasticsearch

当时有个需求，需要对千万级别的数据，进行快速搜索，类似搜索引擎，仅仅匹配几个关键词就可以得到相似结果。当时数据量还不大，先使用的是Mysql用于存储，而查询使用Like来进行模糊匹配，如果用过应该就会知道，请求量一大，那么CPU必定负载，同时搜索的结果也很有限，返回结果也特别慢，于是就去网络上了解，也就了解到Elasticsearch一个**实时**的**分布式存储、搜索、分析**的引擎。

从字面意思上就可以看出来用于做搜索引擎类的，而与其他数据库相比，Elasticsearch的强大之处就是可以**模糊查询**，比方说我原本要搜索 **愧怍的小站** 但是我不小心输成了 **愧怍的网站**，仅仅一个字之差，但是搜索引擎就能给你到他数据库中存有的相应数据

![image-20220211082429859](https://img.kuizuo.cn/20220211082429.png)

Elasticsearch就是用于针对搜索，并且返回的结果甚至可以是秒级别（当时实际测试千万条数据搜索差不多是保存300ms，包括实际网络延迟）。不过它为什么能搜索这么快呢，具体如何分片以及匹配算法我就没去了解了，当时只是业务需求，在Mysql满足不了需求的情况下选择了Elasticsearch。

### Redis

可以不学Mysql、MongoDB，但是Redis是绝对要学的，很多实际场景中基本都能看到Redis的身影，比方数据缓存，对于一些实时性不是特别大统计数据，使用上缓存，缓存时间设置为1分钟，那么这1分钟内无论多少次请求，得到的都是缓存的结果，而不是每次请求都需要再次对大量数据进行计算，造成不必要的性能。

此外Redis还有一些特殊数据类型，在一些场景下十分有用，例如List用于队列，geospatial推算两地之间的距离，Hyperloglog 统计网页的 UV （一个人访问一个网站多次，但是还是算作一个人），Bitmaps每日签到等等，我当时有一个需求，可以参考这篇文章 [Redis获取六位不重复数字（邀请码）](https://kuizuo.cn/database/Redis获取六位不重复数字（邀请码）)，实现起来特别方便，而且十分优雅。

### 数据库

### MongoDB

其实当时学Express的时候，使用的数据库就是MongoDB，毕竟是文档型数据库，存储的数据结构都像JSON一样（实际上是BSON），一般学习Node的肯定都会接触MongoDB。

不过系统的学习是在暑假的时候，顺便用MongoDB写一个Demo，不过要说最好的使用场景的话，无非就是爬虫了，随便从网上一搜大部分都是推荐MongoDB，毕竟对于大部分数据而言，未来的字段会发生变化(增加、删除、修改)，MongoDB不需要任何操作就能保持数据格式的一致性，而Mysql还不需要操作字段。

如果现在要我用那个数据库的话，在网站业务登录相关方面我肯定首选Mysql，毕竟成型快，主流也是。而在爬虫，小型应用到存储的话，毫无疑问肯定是MongoDB。

### Docker

关于Docker就不做过多的介绍了，如果要部署一个应用的话，传统上是要将应用丢到服务器上，但是使用各种环境，比如Nginx，Jdk，Tomcat，然后配置各种文件。但是使用Docker的话，就可以将这些环境打包成一个镜像，然后创建一个Docker容器中，下载镜像，而这个容器就相当于一个轻量的服务器，并且已经配置好环境，并且可以随时部署，假设我现在要部署10台服务器，那么就需要依次下载的环境，然后依次配置文件，而通过Docker直接拉取已经配置完的环境即可。

像上面提到的Elasticsearch、Redis、MongoDB，通过Docker安装特别轻松（下载镜像，创建容器）。使用Dockerfile 能让多个容器启动，并在任何地方运行，通过Docker Compose 则可以一键完成上面任务 实现自动化部署。

### Vue3与React

到了暑假，就开始学习Vue3和React了，索性将这两者结合起来。Vue3与React学习的时候都是观看B站尚硅谷的视频，有一说一，全网最好的React与Vue的教程。



不过还是要吐槽下，这两个前端框架更新是真tm快，2020年才学会的vue2，2021年都vue3了，2020年React17还没学，2021年学了React17都发布了React18了

像Webpack，Vite等前端工具库的话肯定是会使用的。



### 其他

简单尝试了下Go的Gin框架，Java的Spring Boot，Python的FastAPI（都是主流的后端框架），还包括上面的PHP的ThinkPHP，主要也是尝试写个接口，看看与Node的框架有什么些许的差别，或许能学到些什么。要说真的会用，那还不算，只能说要用的时候，会百度怎么用就行了，所以也没系统的去学习一遍。



## 看书

// 如果对这后半年来用个词来形容的话，漫无目的



//TODO: 配图

后半年主要都是在看书，看文章，加固对已有技术的理解，就过的很养生，基本上每天凌晨0-3点的时间都在看技术相关的书籍。主要都是针对JS相关的书籍，例如

- 《JavaScript高级程序设计》（第4版，简称红宝书）

- 《重构 改善既有代码的设计》（第2版，JS）

- 《JavaScript设计模式与开发实践》









## 明年

也不敢说明年的目标明确是什么，毕竟去年的时候定的很多目标都没有完成（很大程度是因为休学导致的，没有去完成所需的目标），情况多变，盲目的定义未来往往于事无补。



如果按照往常，我至少会进一步接触几门热门编程语言（python，go），然而今年我几乎都在写 js 或 ts 代码，甚至写了一篇文章 我为什么选择 Node，其实也能看到出来 js 已经成为我的第一门语言了，甚至是易语言（我的启蒙语言）我都已经一年不在使用了。



至少在开学前把年终总结给写完，今年也要正式回归学校读书去了





### 机器学习

如果有时间的话，会系统的把 TensorFlow 与 Pytorch 学一遍，

说实话，今年的学习确实没第一年多，



也确实，我是想把一门语言学精，而事实上我应该也做到了。

与其说是学习，不如说是巩固。

之前的 js 基础是真的低的不行，以至于一些 js 逆向有时候都需要花费一段时间去解决。

<p align="right">写于2022年1月15日    By 愧怍</p>

